**Задача**: построить интефейс оформления заказа одинаковым для одно- и многокомпонентных сущностей.

В качестве примера рассмотрим создание заказа для лонгборда и его отдельных компонентов.

Каждый объект заказа должен принимать при инициализации идентификатор заказываемой сущности и определять метод `total`, который возвращает стоимость заказа. Это поведение определено в базовом классе заказа `Order`.

Объекты заказа колес и деки (`OrderDeck` & `OrderWheels`) унаследованы от него. И по-разному определяют `total`: один достает значение из БД, другой обращается к внешнему сервису.

Для создания многокомпонентного заказа существует класс `CompositeOrder`, который так же унаследован об базового заказа, а значит, определяет тот же интерфейс, что и обычный заказ. В дополнение, при инициализации создается пустой массив подзаказов `@sub_orders` и определяется метод `add_order` для наполнения этого массива. Сумма заказа высчитывается как сумма по всем подзаказам.

Объект заказа лонгборда принимает `id` при инициализации, находит запрошенную сущность в БД и создает ряд подзаказов для всех комплектующих, из которых состоит лонгборд.
